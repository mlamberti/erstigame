<ion-header>
  <ion-toolbar color="primary">
    <ion-title>
      Hashtags
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content *ngIf="!loading">
  <ion-card>
      <ion-card-header>
        <ion-card-title>
          Level 1
        </ion-card-title>
    </ion-card-header>
    <ion-card-content>
      Um das nächste Level zu erreichen, müsst ihr folgende Bedingen erfüllen:
    </ion-card-content>
    <ion-item>
      <ion-icon name="hand" slot="start"></ion-icon>
      <ion-label>Fang</ion-label>
      <ion-note slot="end">{{ group.numPlaces }} / {{ group.level.numPlaces }}</ion-note>
    </ion-item>
    <ion-item>
      <ion-icon name="pin" slot="start"></ion-icon>
      <ion-label>Orte</ion-label>
      <ion-note slot="end">{{ group.numCatches }} / {{ group.level.numCatches }}</ion-note>
    </ion-item>
    <ion-item>
      <ion-icon name="gift" slot="start"></ion-icon>
      <ion-label>Sponsoren</ion-label>
      <ion-note slot="end">{{ group.numSponsors }} / {{ group.level.numSponsors }}</ion-note>
    </ion-item>
    <ion-item>
      <ion-icon name="hourglass" slot="start"></ion-icon>
      <ion-label>Zeit zusammen</ion-label>
      <ion-note slot="end">{{ group.numHours }} / {{ group.level.numHours }}</ion-note>
    </ion-item>
  </ion-card>

  <ion-card>
    <ion-card-header>
      <ion-card-title>
        Hashtags
      </ion-card-title>
    </ion-card-header>

    <ion-list>
      <ion-item detail *ngFor="let hashtag of hashtags" [routerLink]="['/hashtag-info', hashtag.id]">
        <ion-label text-wrap>
          <h3>#{{ hashtag.name }}</h3>
          <p>{{ hashtag.info }}</p>
        </ion-label>
      </ion-item>

      <ng-container *ngFor="let category of hashtagCategories | keyvalue">
        <ion-item class="expandable" [class.disabled]="!category.value.length" *ngIf="true" (click)="expandable.toggle()" lines="full">
          <ion-icon [name]="expandable.expanded ? 'ios-arrow-down' : 'ios-arrow-forward'" slot="start"></ion-icon>
          <ion-label>{{ categoryLabels[category.key] }}</ion-label>
          <ion-note slot="end">{{ group['num' + category.key[0].toUpperCase() + category.key.slice(1)] }} / {{ category.value.length }}</ion-note>
        </ion-item>

        <app-expandable #expandable [expandHeight]="category.value.length*64+'px'">
          <ion-item detail *ngFor="let hashtag of category.value" [routerLink]="['/hashtag-info', hashtag.id]">
            <ion-label text-wrap>
              <h3>#{{ hashtag.name }}</h3>
              <p>{{ hashtag.info }}</p>
            </ion-label>
          </ion-item>
        </app-expandable>
      </ng-container>
    </ion-list>
  </ion-card>

</ion-content>
